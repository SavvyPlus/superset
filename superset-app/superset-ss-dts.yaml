# kind: Service
# apiVersion: v1
# metadata:
#   labels:
#     k8s-app: superset
#   name: superset
#   annotations:
#     service.beta.kubernetes.io/aws-load-balancer-backend-protocol: http
# spec:
#   type: LoadBalancer
#   ports:
#     - name: http
#       protocol: TCP
#       port: 80
#       targetPort: backend-http
#   selector:
#     k8s-app: superset
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata: 
  name: superset
spec: 
  replicas: 2
  selector: 
    matchLabels: 
      k8s-app: superset
  template: 
    metadata: 
      labels: 
        k8s-app: superset
    spec: 
      containers: 
        - 
          image: $REPOSITORY_URI
          imagePullPolicy: Always
          name: superset
          ports: 
            - 
              containerPort: 8088
              name: backend-http
